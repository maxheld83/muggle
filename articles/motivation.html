<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bridging the Unproductive Valley • muggle</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ugoe --><link href="../ugoe_bootswatch.css" rel="stylesheet">
<!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Bridging the Unproductive Valley">
<meta property="og:description" content="Transitioning Small and Medium-Sized Teams from One-Off Reports to Data Products">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://matomo.gwdg.de/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '407']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script><!-- End Matomo Code -->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">muggle</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2-20211125</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Background</li>
    <li>
      <a href="../articles/motivation.html">Bridging the Unproductive Valley</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Process</li>
    <li>
      <a href="../articles/communicating.html">Communicating</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/subugoe/muggle/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Bridging the Unproductive Valley</h1>
            <h3 class="subtitle">foo</h3>
                        <h4 class="author">Max Held</h4>
            
            <h4 class="date">First published 2020-08, last updated 2021-11-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/subugoe/muggle/blob/master/vignettes/motivation.Rmd"><code>vignettes/motivation.Rmd</code></a></small>
      <div class="hidden name"><code>motivation.Rmd</code></div>

    </div>

    
    
<div id="abstract" class="section level2">
<h2 class="hasAnchor">
<a href="#abstract" class="anchor"></a>Abstract</h2>
<p>Between GUI-based reports and scripted data science lies an unproductive valley that combines the worst of both worlds:
poor scaleability and high overhead.
To avoid getting stuck there, small and medium-sized teams must build strategic data products (not one-off scripts) and concentrate on business value (not infrastructure).</p>
<p>{muggle}’s opininated DevOps help with this transition.
It standardises the compute environment in development, testing and deployment on a multi-stage <code>Dockerfile</code> with <code>ONBUILD</code> triggers for lightweight target images and leverages public cloud services (RSPM, GitHub Actions, GitHub Packages).
In contrast to some existing approaches, {muggle} never infers developer intent and has a minimal git footprint.</p>
<!---

## Notes

Hi, I'm Max, I'm a social scientist, and for the past 6 years, I've worked as an R developer and data analyst in small and medium sized teams, in research and public administration.

Bringing R to these organisations has not, to be honest, been an unqualified success.
Often, we would get stuck somewhere in the middle between point-and-click-based reports and proper scripted data science.
We'd end up with the worst of both worlds:
we'd have the poor scaleability and reproducibility of excel but the upfront time investment of R.
That could become quite frustrating: Stakeholders would be unhappy because the ad-hoc reports they wanted were slow to materialise, and the analysts would be context switching like mad, ammassing technical debt and in the worst case, never achieving the promised reproducibility and scaleability of open source data science.

Now, I think teams and organisation *must* transition to scripted data science, if they don't want to concede this area of value generation to others.
But, without a proper setup, and in the short term, the honest answer has been that often, excel would get the job done better.

Over the past nine months, I've tried out a new approach with my team at the State- and University Library Göttingen, Germany, where we do bibliometric data analytics.
I think we've found two ways to bridge this unproductive valley from GUI to scripts.

First, we have strategically realigned our work around building data products.
That is, we try not to worry about any particular report, but instead on the data APIs, ETL pipelines and visualisations that were central to our mission, and then recycle and resurface those in various outputs.
Building these data products as R packages has been a useful heuristic.
Internally, it forced us not only to build better APIs and more tests, but more importantly, even a small thing as writing down the roxygen2 comments for a function would slow us down and make us thing harder about whether, and what we really needed.
Externally an R package with a corresponding pkgdown site has also helped us to make this kind of "backend" work more visible to our stakeholders.
It was just kind of nice to show them our tidy data API in pkgdown, which I think made them understand a little better what we do.

Secondly, we've revamped our DevOps and try to standardise and abstract away as much of the infrastructure as we can.
This was also a big pain point previously, because in this middle ground of "somewhat reproducible", synchronising the different environments between development, testing and deployment can be a huge timesink, which we couldn't afford.
We've build the muggle package for this purpose.
The package combines Docker multi-stage builds, on-build triggers, the RSPM snapshotted binaries, GitHub Actions and GitHub Packages to allow users to build a completely locked-down, reproducible compute environment by adding a 2-line `Dockerfile`.
The different build targets can then be used locally in development, in testing, and in deployment, say to host a shiny app on Azure Webapp for Containers -- all in the exact same compute environment.
Now we know there's already many approaches to do this kind of thing out there, many much more mature than muggle.
We think our approach may be worth it, because we optimise for speed, we religiously try not to layer on complexity or be too clever.
For example, depending on the build target, our images are about a tenth of some of the commonly used rocker images, so they can realistically be used in production, which we do.
We also never infer anything about the developers intent from the code and we never commit on behalf of the developer, or add much boilerplate code to the target repos.

I've heard this neat story that when electrification came around, it took a generation of managers before steam power was replaced in factories, because the whole shopfloor needed to be reorganized around electricity, which could be used much more flexibly.
I think in the same way, scripted data science for small and medium-sized teams is not a plug-and play solution.

We've learned to lessons which we'd like to share:

- You need some mental scaffolding like an R package to transition from a report-mindset to a data-product-mindset
- You need rigorous standardising around infrastructure, which you should entirely abstract away into separate software, rather than guide the developers hand, so to speak.
-->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="contents col-md-9">
  <p>Developed by <a href="https://www.maxheld.de">Maximilian Held</a>, <a href="https://www.sub.uni-goettingen.de/">Göttingen State and University Library</a>.</p>
  <p>
    <a href="https://www.sub.uni-goettingen.de/en/imprint/data-privacy-statement/">Privacy Statement</a>
    and
    <a href="https://www.sub.uni-goettingen.de/impressum/">Imprint</a>
    apply.
  </p>
</div>

<div class="col-md-3 hidden-xs hidden-sm">
  <p>
    <a href="https://www.sub.uni-goettingen.de/"><img src="https://subugoe.github.io/subugoetheme/sub_wordmark.jpg" height="17"></a>
  </p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '6210bf760111eb2d7173ad99203499e2',
    indexName: 'subugoe_muggle',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
