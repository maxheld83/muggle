<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Opinionated Devops for R Data Products Strictly Without Magic • muggle</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- ugoe --><link href="ugoe_bootswatch.css" rel="stylesheet">
<!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Opinionated Devops for R Data Products Strictly Without Magic">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://matomo.gwdg.de/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '407']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script><!-- End Matomo Code -->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">muggle</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2-20211125</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Background</li>
    <li>
      <a href="articles/motivation.html">Bridging the Unproductive Valley</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Process</li>
    <li>
      <a href="articles/communicating.html">Communicating</a>
    </li>
    <li class="divider">
    <li>
      <a href="articles/index.html">More...</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/subugoe/muggle/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="muggle" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#muggle" class="anchor"></a>muggle</h1></div>
<!-- badges: start -->

<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<blockquote>
<p>Reproducible DevOps Strictly Without Magic</p>
</blockquote>
<p>{muggle} is an R package to implement DevOps best practices for R data products.</p>
<p>{muggle} is developed at the SUB, but can be used by anyone. SUB-specific defaults are set in the <a href="http://github.com/subugoe/metar">{metar}</a> package.</p>
<p>Data products are somewhere between one-off scripts and CRAN-bound packages. One the one hand, they are more complex than simple scripts and take longer to build. To ensure value for their creators, such data products must be reproducible and better scale to accomodate more users or developers. On the other hand, data products face fewer requirements than mainstream packages: They can have more dependencies and they need not run in different computing environments.</p>
<p>{muggle} addresses the needs of such often domain-specific data products by implementing these priorities:</p>
<ol>
<li>
<strong>No Magic</strong> (hence the name) {muggle} will never infer intent, but users have to state it explicitly. For example, dependencies are never inferred from a project source files, but have to be listed in the <code>DESCRIPTION</code> file. This exposes more technical underpinnings, but makes it easier to reason about a project if things go wrong.</li>
<li>
<strong>Every R Data Product is an R Package</strong> {muggle} organises all data products as an R package. For example, a shiny app can be a function in <code>R/</code> and a report can be an RMarkdown document in <code>vignettes/</code>. This adds minimal overhead, but also enforces various best practices and structures projects in a single, familiar way.</li>
<li>
<strong>One Image Rule them All</strong> {muggle} provides one fully versioned and reproducible compute environment as a docker image, including:
<ul>
<li>operating system,</li>
<li>R version,</li>
<li>system dependencies,</li>
<li>and R dependencies snapshotted by date (via <a href="https://packagemanager.rstudio.com/">RStudio Package Manager</a>).</li>
</ul>
Across
<ul>
<li>local development (via <a href="https://rstudio.com/products/rstudio/#rstudio-server">RStudio Server Open Source</a> or <a href="https://code.visualstudio.com">vscode</a>),</li>
<li>continuous integration / continuous delivery (CI/CD) scripts on <a href="https://github.com/features/actions">GitHub Actions</a>,</li>
<li>batch jobs on in high-performance computing clusters,</li>
<li>and even <a href="https://shiny.rstudio.com">shiny apps</a> or <a href="https://www.rplumber.io">plumber web APIs</a>, the project will run in the exact same computing environment. This reduces flexibility, but minimises the time wasted on “but-it-works-on-my-machine”-problems.</li>
</ul>
</li>
<li>
<strong>Fast Iterations</strong> {muggle} speeds up development iterations as much as possible, using
<ul>
<li>pre-compiled binaries from <a href="https://packagemanager.rstudio.com/">RStudio Package Manager</a>),</li>
<li>docker layer cache,</li>
<li>
<a href="https://help.github.com/en/actions/configuring-and-managing-workflows/caching-dependencies-to-speed-up-workflows">GitHub Actions cache</a> for dependencies and</li>
<li>
<a href="https://yihui.org/knitr/demo/cache/">knitr cache</a> for vignettes. This creates some “GOTCHAS”, but encourages agile development by quick turnarounds.</li>
</ul>
</li>
<li>
<strong>Only Humans <code>git commit</code></strong>. {muggle} is designed so that human-edited sources files are under version control. Copy-pasted boilerplate and compiled assets are avoided as much as possible (with the exception of <code>man/</code> so as to not break <code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github()</a></code>). This requires a bit more discipline, but enhances reproducibility and cleans up <code>git diff</code>s.</li>
<li>
<strong>R Packages are for Code, not Data</strong>. {muggle} does not ship data with a package, but only wrapper functions which either call databases or git lfs storage. Only small or unchanging datasets can be stored inside packages.</li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/subugoe/muggle/">https://​github.com/​subugoe/​muggle/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/subugoe/muggle/issues">https://​github.com/​subugoe/​muggle/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.maxheld.de">Maximilian Held</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4703-5388" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.sub.uni-goettingen.de/">Göttingen State and University Library</a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/subugoe/muggle/actions"><img src="https://github.com/subugoe/muggle/workflows/.github/workflows/main.yaml/badge.svg" alt="Main"></a></li>
<li><a href="https://codecov.io/gh/subugoe/muggle?branch=master"><img src="https://codecov.io/gh/subugoe/muggle/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=muggle"><img src="https://www.r-pkg.org/badges/version/muggle" alt="CRAN status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://hub.docker.com/repository/docker/subugoe/muggle-buildtime-onbuild"><img src="https://img.shields.io/docker/pulls/subugoe/muggle-buildtime-onbuild?label=muggle-buildtime%20docker%20pulls&amp;style=flat" alt="muggle-buildtime Docker Pulls"></a></li>
<li><a href="https://hub.docker.com/repository/docker/subugoe/muggle-runtime-onbuild"><img src="https://img.shields.io/docker/pulls/subugoe/muggle-runtime-onbuild?label=muggle-runtime%20docker%20pulls&amp;style=flat" alt="muggle-runtime Docker Pulls"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="contents col-md-9">
  <p>Developed by <a href="https://www.maxheld.de">Maximilian Held</a>, <a href="https://www.sub.uni-goettingen.de/">Göttingen State and University Library</a>.</p>
  <p>
    <a href="https://www.sub.uni-goettingen.de/en/imprint/data-privacy-statement/">Privacy Statement</a>
    and
    <a href="https://www.sub.uni-goettingen.de/impressum/">Imprint</a>
    apply.
  </p>
</div>

<div class="col-md-3 hidden-xs hidden-sm">
  <p>
    <a href="https://www.sub.uni-goettingen.de/"><img src="https://subugoe.github.io/subugoetheme/sub_wordmark.jpg" height="17"></a>
  </p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '6210bf760111eb2d7173ad99203499e2',
    indexName: 'subugoe_muggle',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
